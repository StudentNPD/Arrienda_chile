{% extends "layouts/base.html" %}
{% block title %}Mis Propiedades{% endblock %}
{% block content %}

<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card shadow">
                <div class="card-header bg-primary text-white">
                    <h2 class="mb-0">Editar Propiedad</h2>
                </div>
                <div class="card-body">
                    {% if messages %}
                    {% for message in messages %}
                    <div class="alert {% if message.tags %}alert-{{ message.tags }}{% endif %}">
                        {{ message }}
                    </div>
                    {% endfor %}
                    {% endif %}

                    <form method="post" enctype="multipart/form-data">
                        {% csrf_token %}

                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label class="form-label">Nombre</label>
                                {{ form.nombre }}
                                {% if form.nombre.errors %}
                                <div class="text-danger">{{ form.nombre.errors }}</div>
                                {% endif %}
                            </div>

                            <div class="col-md-6 mb-3">
                                <label class="form-label">Descripci칩n</label>
                                {{ form.descripcion }}
                                {% if form.descripcion.errors %}
                                <div class="text-danger">{{ form.descripcion.errors }}</div>
                                {% endif %}
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label class="form-label">Metros Construidos</label>
                                {{ form.m2_construidos }}
                                {% if form.m2_construidos.errors %}
                                <div class="text-danger">{{ form.m2_construidos.errors }}</div>
                                {% endif %}
                            </div>

                            <div class="col-md-6 mb-3">
                                <label class="form-label">Metros Totales</label>
                                {{ form.m2_totales }}
                                {% if form.m2_totales.errors %}
                                <div class="text-danger">{{ form.m2_totales.errors }}</div>
                                {% endif %}
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-4 mb-3">
                                <label class="form-label">Estacionamientos</label>
                                {{ form.estacionamientos }}
                                {% if form.estacionamientos.errors %}
                                <div class="text-danger">{{ form.estacionamientos.errors }}</div>
                                {% endif %}
                            </div>

                            <div class="col-md-4 mb-3">
                                <label class="form-label">Habitaciones</label>
                                {{ form.habitaciones }}
                                {% if form.habitaciones.errors %}
                                <div class="text-danger">{{ form.habitaciones.errors }}</div>
                                {% endif %}
                            </div>

                            <div class="col-md-4 mb-3">
                                <label class="form-label">Ba침os</label>
                                {{ form.banos }}
                                {% if form.banos.errors %}
                                <div class="text-danger">{{ form.banos.errors }}</div>
                                {% endif %}
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label class="form-label">Direcci칩n</label>
                                {{ form.direccion }}
                                {% if form.direccion.errors %}
                                <div class="text-danger">{{ form.direccion.errors }}</div>
                                {% endif %}
                            </div>

                            <div class="col-md-6 mb-3">
                                <label class="form-label">Regi칩n</label>
                                {{ form.region }}
                                {% if form.region.errors %}
                                <div class="text-danger">{{ form.region.errors }}</div>
                                {% endif %}
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label class="form-label">Comuna</label>
                                {{ form.comuna }}
                                {% if form.comuna.errors %}
                                <div class="text-danger">{{ form.comuna.errors }}</div>
                                {% endif %}
                            </div>

                            <div class="col-md-6 mb-3">
                                <label class="form-label">Tipo de Inmueble</label>
                                {{ form.tipo_inmueble }}
                                {% if form.tipo_inmueble.errors %}
                                <div class="text-danger">{{ form.tipo_inmueble.errors }}</div>
                                {% endif %}
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label class="form-label">Precio</label>
                                {{ form.precio }}
                                {% if form.precio.errors %}
                                <div class="text-danger">{{ form.precio.errors }}</div>
                                {% endif %}
                            </div>

                            <div class="col-md-6 mb-3">
                                <label class="form-label">Foto del Inmueble</label>
                                {{ form.foto_inmueble }}
                                {% if form.foto_inmueble.errors %}
                                <div class="text-danger">{{ form.foto_inmueble.errors }}</div>
                                {% endif %}
                            </div>
                        </div>

                        <div class="d-flex justify-content-between mt-3">
                            <a href="{% url 'inmuebles' %}" class="btn btn-secondary">Cancelar</a>
                            <button type="submit" class="btn btn-primary">Guardar Cambios</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}